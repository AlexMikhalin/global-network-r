"use strict";(self.webpackChunkreact_kabzda_1=self.webpackChunkreact_kabzda_1||[]).push([[780],{4780:function(s,e,t){t.r(e),t.d(e,{default:function(){return J}});var n=t(1413),i=t(2791),o=t(8687),r=t(6070),a=t(6139),l=t(704),c=t(5304),u=t(9086),d="MyPosts_postsBlock__1ZfcS",f="MyPosts_posts__mp8gi",x="Post_item__v2YH3",h=t(184),j=function(s){return(0,h.jsxs)("div",{className:x,children:[(0,h.jsx)("img",{src:"https://n1s2.starhit.ru/6a/46/ae/6a46aeed947a183d67d1bc48211151bf/480x496_0_2bbde84177c9ff1c2299a26a0f69f69c@480x496_0xac120003_4430520541578509619.jpg"}),s.message,(0,h.jsxs)("div",{children:[(0,h.jsx)("span",{children:"like"})," ",s.likesCount]})]})},p=i.memo((function(s){var e=s.posts.map((function(s){return(0,h.jsx)(j,{message:s.message,likesCount:s.likesCount},s.id)}));return(0,h.jsxs)("div",{className:d,children:[(0,h.jsx)("h3",{children:"My posts"}),(0,h.jsx)(v,{onSubmit:function(e){s.addPost(e.newPostText)}}),(0,h.jsx)("div",{className:f,children:e})]})}));var v=(0,l.Z)({form:"ProfileAddNewPostForm"})((function(s){return(0,h.jsxs)("form",{onSubmit:s.handleSubmit,children:[(0,h.jsx)("div",{children:(0,h.jsx)(a.Z,{name:"newPostText",component:u.gx,placeholder:"Post message",validate:[c.l,(0,c.D)(10)]})}),(0,h.jsx)("div",{children:(0,h.jsx)("button",{children:"Add button"})})]})})),b=p,m=(0,o.$j)((function(s){return{posts:s.profilePage.posts,newPostText:s.profilePage.newPostText}}),(function(s){return{addPost:function(e){s((0,r.Wl)(e))}}}))(b),g=t(885),P=t(7204),k="ProfileInfo_describtionBlock__51BNA",_="ProfileInfo_mainPhoto__jZ-Ea",S="ProfileInfo_contact__jGWYO",w=function(s){var e=(0,i.useState)(!1),t=(0,g.Z)(e,2),n=t[0],o=t[1],r=(0,i.useState)(s.status),a=(0,g.Z)(r,2),l=a[0],c=a[1];(0,i.useEffect)((function(){c(s.status)}),[s.status]);return(0,h.jsxs)("div",{children:[!n&&(0,h.jsxs)("div",{children:[(0,h.jsx)("b",{children:" Status: "}),"  ",(0,h.jsx)("span",{onDoubleClick:function(){o(!0)},children:s.status||" \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0442\u0430\u0442\u0443\u0441"})]}),n&&(0,h.jsx)("div",{children:(0,h.jsx)("input",{autoFocus:!0,onBlur:function(){o(!1),s.updateStatus(l)},onChange:function(s){c(s.currentTarget.value)},value:l})})]})},y=t(4353),C=t(9234),N=(0,l.Z)({form:"edit-profile-new"})((function(s){var e=s.handleSubmit,t=s.profile,n=s.error;return(0,h.jsxs)("form",{onSubmit:e,children:[(0,h.jsx)("div",{children:(0,h.jsx)("button",{onClick:function(){},children:"save"})}),n&&(0,h.jsx)("div",{className:C.Z.formSummaryError,children:n}),(0,h.jsxs)("div",{children:[(0,h.jsx)("b",{children:"Full name: "})," ",(0,u.Gr)("Full name","fullName",[],u.II)]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("b",{children:"Looking for a job: "})," ",(0,u.Gr)("","lookingForAJob",[],u.II,{type:"checkbox"})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("b",{children:"My professional skills:"}),(0,u.Gr)("My professional skills","lookingForAJobDescription",[],u.gx)]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("b",{children:"About me: "}),(0,u.Gr)("About me","aboutMe",[],u.gx)]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("b",{children:"Contacts "}),": ",Object.keys(t.contacts).map((function(s){return(0,h.jsx)("div",{className:S,children:(0,h.jsxs)("b",{children:[s," : ",(0,u.Gr)(s,"contacts."+s,[],u.II)]})},s)}))]})]})})),I=function(s){var e=s.profile,t=s.isOwner,n=s.goToEditMode;return(0,h.jsxs)("div",{children:[t&&(0,h.jsx)("div",{children:(0,h.jsx)("button",{onClick:n,children:"edit"})}),(0,h.jsx)("div",{children:(0,h.jsxs)("b",{children:["Full name: ",e.fullName," "]})}),(0,h.jsx)("div",{children:(0,h.jsxs)("b",{children:["Looking for a job: ",e.lookingForAJob?"yes":"no"," "]})}),e.lookingForAJob&&(0,h.jsxs)("div",{children:[(0,h.jsx)("b",{children:"My professional skills:"})," ",e.lookingForAJobDescription]}),(0,h.jsx)("div",{children:(0,h.jsxs)("b",{children:["About me: ",e.aboutMe," "]})}),(0,h.jsxs)("div",{children:[(0,h.jsx)("b",{children:"Contacts "}),": ",Object.keys(e.contacts).map((function(s){return(0,h.jsx)(Z,{contactTitle:s,contactValue:e.contacts[s]},s)}))]})]})},Z=function(s){var e=s.contactTitle,t=s.contactValue;return(0,h.jsxs)("div",{className:S,children:[(0,h.jsx)("b",{children:e}),":",t]})},A=function(s){var e=s.profile,t=s.status,n=s.updateStatus,o=s.isOwner,r=s.savePhoto,a=s.saveProfile,l=(0,i.useState)(!1),c=(0,g.Z)(l,2),u=c[0],d=c[1];if(!e)return(0,h.jsx)(P.Z,{});return(0,h.jsx)("div",{children:(0,h.jsxs)("div",{className:k,children:[e&&(0,h.jsx)("img",{src:e.photos.large||y,className:_}),o&&(0,h.jsx)("input",{type:"file",onChange:function(s){s.target.files.length&&r(s.target.files[0])}}),u?(0,h.jsx)(N,{initialValues:e,profile:e,onSubmit:function(s){a(s).then((function(){d(!1)}))}}):(0,h.jsx)(I,{profile:e,isOwner:o,goToEditMode:function(){d(!0)}}),(0,h.jsx)(w,{status:t,updateStatus:n})]})})},F=function(s){return(0,h.jsxs)("div",{children:[(0,h.jsx)(A,{isOwner:s.isOwner,profile:s.profile,status:s.status,saveProfile:s.saveProfile,updateStatus:s.updateStatus,savePhoto:s.savePhoto}),(0,h.jsx)(m,{})]})},M=t(2915),O=t(1548),T=t(7781),E=t(6871),G=void 0,J=(0,T.qC)((0,o.$j)((function(s){return{profile:s.profilePage.profile,status:s.profilePage.status}}),{getUserProfile:r.et,getStatus:r.lR,updateStatus:r.Nf,savePhoto:r.Ju,saveProfile:r.Ii}),M.E,O.D)((function(s){var e=(0,E.UO)().userId;return e||(e=G.props.authorizedUserId)||G.props.history.push("/login"),(0,i.useEffect)((function(){s.getUserProfile(e),s.getStatus(e)}),[]),(0,h.jsx)(F,(0,n.Z)((0,n.Z)({},s),{},{isOwner:!!e,profile:s.profile,status:s.status,updateStatus:s.updateStatus,savePhoto:s.savePhoto}))}))}}]);
//# sourceMappingURL=780.e3152f74.chunk.js.map